<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>myApp</title>
    
    <!--   Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  
  </head>

  <body>
  	<!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">MyApp</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#funcionarios">Funcionários</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#sobre">Sobre</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <header class="bg-primary text-white">
      <div class="container text-center">
        <h1>MyApp2</h1>
        <p class="lead">MyApp</p>
      </div>
    </header>
    
    <section id="home">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto">
          	<div class="">
				<strong>Cadastro de Funcionario</strong>
			</div>
            <form class="form-horizontal" th:object="${funcionario}" th:action="@{/salvarFuncionario/{codigoEmpresa}(codigoEmpresa=${codigoEmpresa})}" method="POST" style="margin: 10px">
				<div class="form-group">
 					<fieldset>
						<div class="form-group row">
						    <div class="col-lg-2">
						    	<label>Código</label> 
						        <input type="text" class="form-control input-sm" id="codigo" th:field="*{codigo}" readOnly="readonly"/>
						    </div>
						 </div>
						<div class="form-group row">                                                          
							<div class="col-lg-8" th:classappend="${#fields.hasErrors('nome')}? 'has-error'">
							    <label>Nome</label>
							    <input type="text" class="form-control input-sm" th:field="*{nome}" autofocus="autofocus" placeholder="Informe o nome" maxlength="100" required="required"/>
							</div>
						</div>
						<div class="form-group row">
							<div class="col-lg-4" th:classappend="${#fields.hasErrors('cpf')}? 'has-error'">
								<label>CPF</label> 
								<input type="text" class="form-control input-sm" th:field="*{cpf}" minlength="11" maxlength="11" placeholder="Informe o cpf" required="required" pattern="^[0-9]*$"/>
							</div>
						</div>
						<div class="form-group row">
							<div class="col-lg-4" th:classappend="${#fields.hasErrors('email')}? 'has-error'">
								<label>Email</label> 
								<input type="email" class="form-control input-sm" th:field="*{email}" placeholder="Informe o email" maxlength="100" required="required"/>
							</div>
						</div>
						<div class="form-group row">
							<div class="col-lg-4" th:classappend="${#fields.hasErrors('empresa')}? 'has-error'">
								<label>Empresa</label> 
								<select th:field="*{empresa}" class="form-control" required="required">
									<option th:value="null" th:text="Selecione"></option>
								    <option th:each="empresa : ${empresas}" th:value="${empresa.codigo}" th:text="${empresa.nome}"></option>
								</select>
							</div>
						</div>
					</fieldset>
				</div>
				<div class="form-group row">
					<button type="submit" class="btn btn-sm btn-primary">Salvar</button>
					<a th:href="@{/funcionarios/{codigoEmpresa}(codigoEmpresa=${codigoEmpresa})}" class="btn btn-sm btn-default">Cancelar</a>
				</div>
			</form>
            
          </div>
        </div>
      </div>
    </section>
    
</body>

</html>